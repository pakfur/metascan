
**Media Browser Functional Requirements**
*** Summary
The application is called Metascan, it is an image and video browser, scanner, and metadata extractor with a simple and functional user interface. Metascan can scan and indexes thousands of photos and videos generated from popular AI models. Images and videos metadata is extracted and indexed, enabling rich search and filtering of captions and tags. A media browser enables thumbnail views and full sized image view and media playback. 

-   Directory scan capabilities
	- User may select directories for image scanning.
	- The application will track an unlimited number of directories to scan.
	- Scans for gif, jpg, jpeg, webp, and png and mp4 files
	- Scanned files with metadata will have the metadata extracted and stored for easy retrieval and indexing.
	- The user can choose to scan a recursively per directory.
 
-   Metadata handling (which AI metadata fields to preserve/display)
	- Positive Prompt
	- Negative Prompt
	- Scheduler
	- Sampler
	- Model
	- LoRA list and weights
	- Seed
	- CFG
	- Steps
	
-   Filter functionality 
	- The following fields are indexed and the index references to image or video
		- Positive Prompt: Each significant word is indexed. Discard filler works (of, the, and, in, etc)
		- Negative Prompt: Each significant word is indexed. Discard filler works (of, the, and, in, etc)
		- Model
		- LoRA name
	- A list of indexed items are listed on the left, grouped by type (Positive prompt, Negative Prompt, Model, LoRA)
	- Indexes are saved to disk
	- Indexes can be rebuilt by discarding the indexes and rescanning all the directories that were selected previously.
	- The user can select one or more indexed item and the application will filter out all images and videos that do not have a reference to the indexed item

-   Supported Viewing modes 
	- grid, list, single image, slideshow
	- All viewing modes can be filtered 

**Technical Requirements**

-   Platform (Windows/Mac)
-   Storage approach (sqllite or leveldb for indexes and associated file paths, options, list of scannable directories, metadata)
-   Should support  ~10,000 images and videos, 

**Data Model** :
```
Media {
  id: unique identifier
  type: image | video
  filepath: directory identifier
  file_created_date: datetime
  favorite: boolean
  ai_metadata: {
    model: string
    base_model: string (SDXL, Flux, Illustrious, Pony, Wan, etc)
    prompt: string
    negative_prompt: string
    seed: number
    steps: number
    sampler: string
    lora_name: list of lora names and weights
  }
}
ai_indexes: {
	prompt_inverted_index: map<prompt_token, list<photo_id>>
	model_inverted_index: map<model, list<photo_id>>
	lora_inverted_index: map<lora_name, list<photo_id>>
	base_model_inverted_index: map<base_model, list<photo_id>>
}
directory {
	id: unique identifier
	filepath: string
	search_subfolders: boolean
}
Directories: List<directory>
```

## UI/UX Documentation

**Wire-frame Sketches**


**User Flow Diagrams** Document key workflows:
1.   Filtering Media
	1.1 From the main window the system will display the inverted index keys into the appropriate lists, prompt tags, models, loras, base models
	1.2 selecting a filter word will update the media display to only display media that has an index entry for the filter word
	1.3 multiple filter words can be selected
	1.4 deselecting a filter word will refresh the media display 
	1.5 if no filters are selected then all media is displayed in thumbnail form 

2. Favorites
	2.1 Media thumbnails can be added to favorites list by clicking on the favorite icon under the thumbnail
	2.2 Media that has been added to favorites will update the "Mediate.favorite' flag to true. 
	2.3 Media can be removed from the favorites by clicking on the favorite icon under the thumbnail while a favorite
	2.2 Media that has been removed from favorites will update the "Mediate.favorite' flag to false

3.  Scanning new AI-generated images
	3.1 When the "Scan" button is clicked on the main window the system will scan each configured directory recursively for new or modified images or movies
	3.2 For each new image or video the system will:
		3.3 scan the image or video for metadata
		3.4 if metadata is present and the format understood then:
			3.4.1 extract the metadata
			3.4.2 update the indexes by updating the inverted indexes
				3.4.2.1 the prompt inverted index should exclude filler words
			3.4.3 update the Main window filters lists to include the keys from the inverted indexes, ordered in descending order
			
4. Displaying media thumbnails
	4.1 The main screen will display media thumbnails in the middle screen for images and movies
	4.2 Thumbnails can be be ordered by file name, created date
	4.3 Users can select ordering preference on the main screen
	4.4 selecting a thumbnail will highlight the thumbnail and display the metadata at the bottom panel on the main screen
	4.5 The user can navigate between thumbnails by clicking on the thumbnail or using cursor keys
	4.6 The main display will only load thumbnails for files visible on the screen to save memory

5. View screen
	5.1 Double clicking on a thumbnail of a media file will transition to the view screen
	5.2 The user can see the image at large size in the view screen
	5.3 The image or movie will be sized to fit in the larger viewing area on the view screen
	5.4 The user can select the back button from the top of the view screen and return to the main screen
	
			
## Additional Recommendations

**Use Cases and Priority** 
**MVP (Must Have)**
1.  As a User, I want to have a thumbnail grid view of scanned images and movies
2. As a user, I want to scan directories for images and movies generated by AI models
3. As a user, I want to configure the application to add directories to scan.
4. As a User, I want to click on a thumbnail and view the files metadata: (Prompt, Negative Prompt, Model, Base Model, CFG, Seed, Scheduler, Sampler, LoRAs) at the bottom of the screen.
5. As a User, I want to use the cursor keys to navigate thumbnails
6. As a User, I want to filter the thumbnail view by by selecting one or more positive prompt tag words, model names, LoRA names, Base Model Names 

**Should Have**
7.  As a User, I want to double click on a thumbnail and view the image or movie at full size 

**Nice to Have**
8. As a user, I want the application to be able to automatically scan configured directories for new images and update indexes.
9. As a User, I want to play a MP4 movie by clicking on a movie thumbnail 
10.As a user, I want to maintain a library of all prompts, mark prompts as favorites view the prompt and associated images. 

**Example Data** 
Includes ComfyUI, SwarmUI, Fooocus

Expected Metadata extracted by exiftool.
****ComfyUI****

ExifTool Version Number         : 13.30
File Name                       : vid_00076.png
Directory                       : /Volumes/Backup/linked/video_staging/2025-07-21
File Size                       : 1993 kB
File Modification Date/Time     : 2025:07:21 23:45:47+01:00
File Access Date/Time           : 2025:08:02 00:39:52+01:00
File Inode Change Date/Time     : 2025:07:22 02:12:32+01:00
File Permissions                : -rw-r--r--
File Type                       : PNG
File Type Extension             : png
MIME Type                       : image/png
Image Width                     : 960
Image Height                    : 1664
Bit Depth                       : 8
Color Type                      : RGB
Compression                     : Deflate/Inflate
Filter                          : Adaptive
Interlace                       : Noninterlaced
Prompt                          : {"80": {"inputs": {"frame_rate": 16.0, "loop_count": 0, "filename_prefix": "teacache", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "trim_to_audio": false, "pingpong": false, "save_output": true, "images": ["264", 0]}, "class_type": "VHS_VideoCombine", "_meta": {"title": "Video Combine \ud83c\udfa5\ud83c\udd65\ud83c\udd57\ud83c\udd62"}}, "83": {"inputs": {"ckpt_name": "film_net_fp32.pt", "clear_cache_after_n_frames": 10, "multiplier": 2, "frames": ["98", 0]}, "class_type": "FILM VFI", "_meta": {"title": "FILM VFI"}}, "94": {"inputs": {"frame_rate": 32.0, "loop_count": 0, "filename_prefix": "Hunyuan/videos/30/vid", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "trim_to_audio": false, "pingpong": false, "save_output": true, "images": ["83", 0]}, "class_type": "VHS_VideoCombine", "_meta": {"title": "Video Combine \ud83c\udfa5\ud83c\udd65\ud83c\udd57\ud83c\udd62"}}, "95": {"inputs": {"frame_rate": 16.0, "loop_count": 0, "filename_prefix": "Hunyuan/videos/24/vid", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "trim_to_audio": false, "pingpong": false, "save_output": true, "images": ["98", 0]}, "class_type": "VHS_VideoCombine", "_meta": {"title": "Video Combine \ud83c\udfa5\ud83c\udd65\ud83c\udd57\ud83c\udd62"}}, "97": {"inputs": {"frame_rate": 16.0, "loop_count": 0, "filename_prefix": "Hunyuan/videos/24/vid/up1", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "trim_to_audio": false, "pingpong": false, "save_output": true, "images": ["99", 0]}, "class_type": "VHS_VideoCombine", "_meta": {"title": "Video Combine \ud83c\udfa5\ud83c\udd65\ud83c\udd57\ud83c\udd62"}}, "98": {"inputs": {"upscale_method": "lanczos", "width": ["220", 0], "height": ["219", 0], "crop": "center", "image": ["99", 0]}, "class_type": "ImageScale", "_meta": {"title": "Upscale Image"}}, "99": {"inputs": {"upscale_model": ["154", 0], "image": ["272", 0]}, "class_type": "ImageUpscaleWithModel", "_meta": {"title": "Upscale Image (using Model)"}}, "154": {"inputs": {"model_name": "4xLSDIR.pth"}, "class_type": "UpscaleModelLoader", "_meta": {"title": "Upscaler"}}, "155": {"inputs": {"UPSCALE_MODEL": ["154", 0]}, "class_type": "Anything Everywhere", "_meta": {"title": "Anything Everywhere"}}, "219": {"inputs": {"value": "a*b", "a": ["222", 1], "b": ["226", 0]}, "class_type": "SimpleMath+", "_meta": {"title": "height"}}, "220": {"inputs": {"value": "a*b", "a": ["222", 0], "b": ["226", 0]}, "class_type": "SimpleMath+", "_meta": {"title": "width"}}, "222": {"inputs": {"image": ["223", 0]}, "class_type": "GetImageSize+", "_meta": {"title": "\ud83d\udd27 Get Image Size"}}, "223": {"inputs": {"start": 0, "length": 1, "image": ["224", 0]}, "class_type": "ImageFromBatch+", "_meta": {"title": "\ud83d\udd27 Image From Batch"}}, "224": {"inputs": {"images": ["289", 0]}, "class_type": "ImageListToImageBatch", "_meta": {"title": "Image List to Image Batch"}}, "226": {"inputs": {"Number": "2"}, "class_type": "Int", "_meta": {"title": "Upscale Factor"}}, "231": {"inputs": {"clip_name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors", "type": "wan", "device": "cpu"}, "class_type": "CLIPLoader", "_meta": {"title": "Load CLIP"}}, "232": {"inputs": {"vae_name": "wan_2.1_vae.safetensors"}, "class_type": "VAELoader", "_meta": {"title": "Load VAE"}}, "233": {"inputs": {"clip_name": "clip_vision_h.safetensors"}, "class_type": "CLIPVisionLoader", "_meta": {"title": "Load CLIP Vision"}}, "236": {"inputs": {"width": 480, "height": 832, "length": 65, "batch_size": 1, "positive": ["243", 0], "negative": ["244", 0], "vae": ["232", 0], "clip_vision_output": ["239", 0], "start_image": ["294", 0]}, "class_type": "WanImageToVideo", "_meta": {"title": "Set Video Length/Width/Height WanImageToVideo"}}, "239": {"inputs": {"crop": "none", "clip_vision": ["233", 0], "image": ["294", 0]}, "class_type": "CLIPVisionEncode", "_meta": {"title": "CLIP Vision Encode"}}, "243": {"inputs": {"text": "a beautiful woman is sitting on a bed. A woman stands next to her. TThe camera remains still.", "clip": ["302", 1]}, "class_type": "CLIPTextEncode", "_meta": {"title": "CLIP Text Encode (Prompt)"}}, "244": {"inputs": {"text": "Overexposure, static, blurred details, subtitles, paintings, pictures, still, overall gray, worst quality, low quality, JPEG compression residue, ugly, mutilated, redundant fingers, poorly painted hands, poorly painted faces, deformed, disfigured, deformed limbs, fused fingers, cluttered background, three legs, a lot of people in the background, upside down", "clip": ["302", 1]}, "class_type": "CLIPTextEncode", "_meta": {"title": "CLIP Text Encode (Prompt)"}}, "245": {"inputs": {"CONDITIONING": ["244", 0]}, "class_type": "Prompts Everywhere", "_meta": {"title": "Prompts Everywhere"}}, "259": {"inputs": {"seed": 623724441574441, "steps": 18, "cfg": 5.0, "sampler_name": "euler", "scheduler": "normal", "denoise": 1.0, "model": ["260", 0], "positive": ["236", 0], "negative": ["236", 1], "latent_image": ["236", 2]}, "class_type": "KSampler", "_meta": {"title": "KSampler"}}, "260": {"inputs": {"shift": 5.000000000000001, "model": ["301", 0]}, "class_type": "ModelSamplingSD3", "_meta": {"title": "Shift"}}, "264": {"inputs": {"start": 6, "length": -1, "image": ["265", 0]}, "class_type": "ImageFromBatch+", "_meta": {"title": "\ud83d\udd27 Image From Batch"}}, "265": {"inputs": {"images": ["289", 0]}, "class_type": "ImageListToImageBatch", "_meta": {"title": "Image List to Image Batch"}}, "266": {"inputs": {"anything": ["264", 0]}, "class_type": "easy cleanGpuUsed", "_meta": {"title": "Clean VRAM Used"}}, "272": {"inputs": {"upscale_method": "lanczos", "scale_by": 0.5, "image": ["266", 0]}, "class_type": "ImageScaleBy", "_meta": {"title": "Upscale Image By"}}, "276": {"inputs": {"model": ["295", 0]}, "class_type": "ModelPassThrough", "_meta": {"title": "ModelPass"}}, "280": {"inputs": {"CLIP_VISION": ["233", 0]}, "class_type": "Anything Everywhere", "_meta": {"title": "Anything Everywhere"}}, "281": {"inputs": {"VAE": ["232", 0]}, "class_type": "Anything Everywhere", "_meta": {"title": "Anything Everywhere"}}, "282": {"inputs": {"CLIP": ["231", 0]}, "class_type": "Anything Everywhere", "_meta": {"title": "Anything Everywhere"}}, "287": {"inputs": {"blocks": "9", "start_percent": 0.20000000000000004, "end_percent": 0.7000000000000002, "model": ["303", 0]}, "class_type": "SkipLayerGuidanceWanVideo", "_meta": {"title": "Skip Layer Guidance WanVideo"}}, "289": {"inputs": {"image": ["290", 0]}, "class_type": "ImagePass", "_meta": {"title": "ImagePass"}}, "290": {"inputs": {"samples": ["259", 0], "vae": ["232", 0]}, "class_type": "VAEDecode", "_meta": {"title": "VAE Decode"}}, "294": {"inputs": {"image": "t2i-2025-07-20_00051_.png"}, "class_type": "LoadImage", "_meta": {"title": "Input Image"}, "is_changed": ["d3219320ba68557423e4bb9a206daacefb21df72c981f29c6971a28fcb1cd5d9"]}, "295": {"inputs": {"rel_l1_thresh": 0.15000000000000002, "start_percent": 0.3500000000000001, "end_percent": 0.8500000000000002, "cache_device": "offload_device", "coefficients": "i2v_480", "model": ["287", 0]}, "class_type": "WanVideoTeaCacheKJ", "_meta": {"title": "WanVideo Tea Cache (native)"}}, "301": {"inputs": {"model": ["302", 0]}, "class_type": "ModelPassThrough", "_meta": {"title": "ModelPass"}}, "302": {"inputs": {"PowerLoraLoaderHeaderWidget": {"type": "PowerLoraLoaderHeaderWidget"}, "lora_1": {"on": false, "lora": "I2V-tittydrop-e26.safetensors", "strength": 1}, "lora_2": {"on": false, "lora": "P004-Lying-Bouncing-i2v-v10-000010.safetensors", "strength": 1}, "lora_3": {"on": false, "lora": "deepthroat_epoch_80.safetensors", "strength": 0.7999999999999997}, "lora_4": {"on": false, "lora": "detailz-wan.safetensors", "strength": 1}, "lora_5": {"on": false, "lora": "dicks_epoch_100.safetensors", "strength": 1}, "lora_6": {"on": false, "lora": "doggyPOV_v1_1.safetensors", "strength": 1}, "lora_7": {"on": false, "lora": "erect_penis_epoch_80.safetensors", "strength": 0.6}, "lora_8": {"on": false, "lora": "wan_female_masturbation.safetensors", "strength": 1}, "lora_9": {"on": false, "lora": "wan_pov_blowjob.safetensors", "strength": 0.9}, "lora_10": {"on": false, "lora": "woman_undressing_v1.0_wan14b_epoch048.safetensors", "strength": 0.9}, "lora_11": {"on": false, "lora": "epoch60.safetensors", "strength": 0.9}, "lora_12": {"on": false, "lora": "BouncyWalkV01.safetensors", "strength": 1}, "lora_13": {"on": false, "lora": "T2V_lesbian-cunnilingus_v2-14b.safetensors", "strength": 1}, "lora_14": {"on": false, "lora": "genitals_helper_v1.0_e219.safetensors", "strength": 1}, "lora_15": {"on": false, "lora": "masturbation_cumshot_wanI2V480p_v1.safetensors", "strength": 1}, "lora_16": {"on": false, "lora": "wan-ultimatedeepthroat-182epo-k3nk.safetensors", "strength": 1}, "lora_17": {"on": false, "lora": "genitals_helper_v1.0_e219.safetensors", "strength": 1}, "lora_18": {"on": false, "lora": "fingering_i2v_e248.safetensors", "strength": 1}, "lora_19": {"on": false, "lora": "Wan-Doggy_v3-t2v_i2v.safetensors", "strength": 1}, "lora_20": {"on": false, "lora": "wan_pov_missionary_i2v_v1.1.safetensors", "strength": 1}, "lora_21": {"on": true, "lora": "WAN_Passionate_Kissing_v1.safetensors", "strength": 1}, "\u2795 Add Lora": "", "model": ["276", 0], "clip": ["231", 0]}, "class_type": "Power Lora Loader (rgthree)", "_meta": {"title": "Power Lora Loader (rgthree)"}}, "303": {"inputs": {"model_name": "Wan2_1-I2V-14B-480P_fp8_e5m2.safetensors", "weight_dtype": "default", "compute_dtype": "default", "patch_cublaslinear": false, "sage_attention": "sageattn_qk_int8_pv_fp16_cuda", "enable_fp16_accumulation": true}, "class_type": "DiffusionModelLoaderKJ", "_meta": {"title": "Diffusion Model Loader KJ"}}}
Workflow                        : {"id": "be1c91d9-234f-40a3-bea0-c4fbf4c2ee46", "revision": 0, "last_node_id": 305, "last_link_id": 1481, "nodes": [{"id": 222, "type": "GetImageSize+", "pos": [2005.892333984375, -150.82557678222656], "size": [214.20001220703125, 66], "flags": {"collapsed": true}, "order": 43, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 423}], "outputs": [{"name": "width", "type": "INT", "slot_index": 0, "links": [421]}, {"name": "height", "type": "INT", "slot_index": 1, "links": [419]}, {"name": "count", "type": "INT", "links": null}], "properties": {"cnr_id": "comfyui_essentials", "ver": "33ff89fd354d8ec3ab6affb605a79a931b445d99", "Node name for S&R": "GetImageSize+", "aux_id": "cubiq/ComfyUI_essentials", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 223, "type": "ImageFromBatch+", "pos": [1931.550048828125, -279.7542724609375], "size": [315, 82], "flags": {"collapsed": false}, "order": 40, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 424}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [423]}], "properties": {"cnr_id": "comfyui_essentials", "ver": "33ff89fd354d8ec3ab6affb605a79a931b445d99", "Node name for S&R": "ImageFromBatch+", "aux_id": "cubiq/ComfyUI_essentials", "widget_ue_connectable": {}}, "widgets_values": [0, 1]}, {"id": 245, "type": "Prompts Everywhere", "pos": [-842.821044921875, 412.9173278808594], "size": [226.79998779296875, 86], "flags": {"collapsed": true}, "order": 32, "mode": 0, "inputs": [{"color_on": "#FFA931", "label": "CONDITIONING", "name": "CONDITIONING", "shape": 7, "type": "*", "link": 442}, {"color_on": "#FFA931", "label": "CONDITIONING", "name": "CONDITIONING", "shape": 7, "type": "*", "link": 443}], "outputs": [], "properties": {"cnr_id": "cg-use-everywhere", "ver": "8017bc6b063f45db6b986d9fc8bb76bd3234b838", "Node name for S&R": "Prompts Everywhere", "group_restricted": 0, "color_restricted": 0, "aux_id": "chrisgoringe/cg-use-everywhere", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 265, "type": "ImageListToImageBatch", "pos": [676.545166015625, -133.58743286132812], "size": [315, 26], "flags": {"collapsed": true}, "order": 37, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 555}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [489]}], "properties": {"cnr_id": "comfyui-impact-pack", "ver": "66493d8cb4209e0ad19c914ae1e39ee7e1486d7e", "Node name for S&R": "ImageListToImageBatch", "aux_id": "ltdrdata/ComfyUI-Impact-Pack", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 162, "type": "Note", "pos": [-622.5592651367188, -8.07308292388916], "size": [427.0924377441406, 88], "flags": {}, "order": 0, "mode": 0, "inputs": [], "outputs": [], "properties": {"widget_ue_connectable": {}}, "widgets_values": ["Select your prompt and video size here \u2193\nRecommended sizes: 832*480 480*832 512*512 1280*720 720*1280"], "color": "#432", "bgcolor": "#653"}, {"id": 276, "type": "ModelPassThrough", "pos": [-2254.239501953125, 633.7281494140625], "size": [210, 26], "flags": {"collapsed": true}, "order": 24, "mode": 0, "inputs": [{"name": "model", "shape": 7, "type": "MODEL", "link": 613}], "outputs": [{"name": "model", "type": "MODEL", "slot_index": 0, "links": [674]}], "properties": {"cnr_id": "comfyui-kjnodes", "ver": "79d9aab5e7f53fcbc5df201eff48e6346cc4154e", "Node name for S&R": "ModelPassThrough", "aux_id": "kijai/ComfyUI-KJNodes", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 280, "type": "Anything Everywhere", "pos": [-2250.997802734375, 1053.929443359375], "size": [239.40000915527344, 46], "flags": {}, "order": 13, "mode": 0, "inputs": [{"color_on": "#A8DADC", "label": "CLIP_VISION", "name": "CLIP_VISION", "shape": 7, "type": "*", "link": 514}], "outputs": [], "properties": {"cnr_id": "cg-use-everywhere", "ver": "8017bc6b063f45db6b986d9fc8bb76bd3234b838", "Node name for S&R": "Anything Everywhere", "group_restricted": 0, "color_restricted": 0, "aux_id": "chrisgoringe/cg-use-everywhere", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 281, "type": "Anything Everywhere", "pos": [-2296.827392578125, 935.2216796875], "size": [239.40000915527344, 46], "flags": {"collapsed": true}, "order": 17, "mode": 0, "inputs": [{"color_on": "#FF6E6E", "label": "VAE", "name": "VAE", "shape": 7, "type": "*", "link": 515}], "outputs": [], "properties": {"cnr_id": "cg-use-everywhere", "ver": "8017bc6b063f45db6b986d9fc8bb76bd3234b838", "Node name for S&R": "Anything Everywhere", "group_restricted": 0, "color_restricted": 0, "aux_id": "chrisgoringe/cg-use-everywhere", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 282, "type": "Anything Everywhere", "pos": [-2318.6162109375, 825.529541015625], "size": [239.40000915527344, 46], "flags": {}, "order": 15, "mode": 0, "inputs": [{"color_on": "#FFD500", "label": "CLIP", "name": "CLIP", "shape": 7, "type": "*", "link": 516}], "outputs": [], "properties": {"cnr_id": "cg-use-everywhere", "ver": "8017bc6b063f45db6b986d9fc8bb76bd3234b838", "Node name for S&R": "Anything Everywhere", "group_restricted": 0, "color_restricted": 0, "aux_id": "chrisgoringe/cg-use-everywhere", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 283, "type": "Reroute", "pos": [108.11656188964844, 1083.1533203125], "size": [75, 26], "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 517}], "outputs": [{"name": "", "type": "INT", "slot_index": 0, "links": [518]}], "properties": {"showOutputText": false, "horizontal": false, "widget_ue_connectable": {}}}, {"id": 284, "type": "Reroute", "pos": [2950.5029296875, 1093.7569580078125], "size": [75, 26], "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 518}], "outputs": [{"name": "", "type": "INT", "slot_index": 0, "links": [519]}], "properties": {"showOutputText": false, "horizontal": false, "widget_ue_connectable": {}}}, {"id": 285, "type": "Reroute", "pos": [2990.446533203125, -178.73312377929688], "size": [75, 26], "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 519}], "outputs": [{"name": "", "type": "INT", "slot_index": 0, "links": [520, 521]}], "properties": {"showOutputText": false, "horizontal": false, "widget_ue_connectable": {}}}, {"id": 219, "type": "SimpleMath+", "pos": [1887.1219482421875, -105.0702133178711], "size": [315, 98], "flags": {"collapsed": true}, "order": 46, "mode": 0, "inputs": [{"name": "a", "shape": 7, "type": "*", "link": 419}, {"name": "b", "shape": 7, "type": "*", "link": 521}, {"name": "c", "shape": 7, "type": "*", "link": null}], "outputs": [{"name": "INT", "type": "INT", "slot_index": 0, "links": [427]}, {"name": "FLOAT", "type": "FLOAT", "links": null}], "title": "height", "properties": {"cnr_id": "comfyui_essentials", "ver": "33ff89fd354d8ec3ab6affb605a79a931b445d99", "Node name for S&R": "SimpleMath+", "aux_id": "cubiq/ComfyUI_essentials", "widget_ue_connectable": {}}, "widgets_values": ["a*b"]}, {"id": 220, "type": "SimpleMath+", "pos": [2187.32421875, -100.41024780273438], "size": [315, 98], "flags": {"collapsed": true}, "order": 45, "mode": 0, "inputs": [{"name": "a", "shape": 7, "type": "*", "link": 421}, {"name": "b", "shape": 7, "type": "*", "link": 520}, {"name": "c", "shape": 7, "type": "*", "link": null}], "outputs": [{"name": "INT", "type": "INT", "slot_index": 0, "links": [426]}, {"name": "FLOAT", "type": "FLOAT", "links": null}], "title": "width", "properties": {"cnr_id": "comfyui_essentials", "ver": "33ff89fd354d8ec3ab6affb605a79a931b445d99", "Node name for S&R": "SimpleMath+", "aux_id": "cubiq/ComfyUI_essentials", "widget_ue_connectable": {}}, "widgets_values": ["a*b"]}, {"id": 224, "type": "ImageListToImageBatch", "pos": [1926.4715576171875, -353.9565124511719], "size": [315, 26], "flags": {}, "order": 38, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 556}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [424]}], "properties": {"cnr_id": "comfyui-impact-pack", "ver": "808b0dedf03534a2594ecb60a9d6305a044efdc2", "Node name for S&R": "ImageListToImageBatch", "aux_id": "ltdrdata/ComfyUI-Impact-Pack", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 195, "type": "Note", "pos": [-1551.3448486328125, -278.2396545410156], "size": [600, 240], "flags": {}, "order": 1, "mode": 0, "inputs": [], "outputs": [], "properties": {"widget_ue_connectable": {}}, "widgets_values": ["Workflow made by Hearmeman\nhttps://www.patreon.com/c/HearmemanAI\n\nThis workflow comes pre installed and ready to run with my RunPod template\nYou can deploy it here: \nhttps://runpod.io/console/deploy?template=758dsjwiqz&ref=uyjfcrgy"], "color": "#ff14a9", "bgcolor": "#ff0095"}, {"id": 80, "type": "VHS_VideoCombine", "pos": [623.6946411132812, 329.831298828125], "size": [220.3603515625, 695.291259765625], "flags": {}, "order": 41, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 490}, {"name": "audio", "shape": 7, "type": "AUDIO", "link": null}, {"name": "meta_batch", "shape": 7, "type": "VHS_BatchManager", "link": null}, {"name": "vae", "shape": 7, "type": "VAE", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null}], "properties": {"cnr_id": "comfyui-videohelpersuite", "ver": "8343122234b61a0f8eb3d1f3f98382b0f7aff2b9", "Node name for S&R": "VHS_VideoCombine", "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite", "widget_ue_connectable": {}}, "widgets_values": {"frame_rate": 16, "loop_count": 0, "filename_prefix": "teacache", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "trim_to_audio": false, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "teacache_00044.mp4", "subfolder": "", "type": "output", "format": "video/h264-mp4", "frame_rate": 16, "workflow": "teacache_00044.png", "fullpath": "/workspace/ComfyUI/output/teacache_00044.mp4"}, "muted": false}}}, {"id": 271, "type": "Note", "pos": [613.3107299804688, -271.9822082519531], "size": [340, 88], "flags": {}, "order": 2, "mode": 0, "inputs": [], "outputs": [], "properties": {"widget_ue_connectable": {}}, "widgets_values": ["These nodes are for removing the first 6 frames from the image, these are junk frames that hurt the natural flow of the video \u2193"], "color": "#432", "bgcolor": "#653"}, {"id": 161, "type": "Note", "pos": [-2393.35986328125, -35.608978271484375], "size": [340, 88], "flags": {}, "order": 3, "mode": 0, "inputs": [], "outputs": [], "properties": {"widget_ue_connectable": {}}, "widgets_values": ["Load your models here \u2193"], "color": "#432", "bgcolor": "#653"}, {"id": 244, "type": "CLIPTextEncode", "pos": [-969.5477905273438, 491.8709716796875], "size": [400, 200], "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 649}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "slot_index": 0, "links": [443]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "CLIPTextEncode", "widget_ue_connectable": {}}, "widgets_values": ["Overexposure, static, blurred details, subtitles, paintings, pictures, still, overall gray, worst quality, low quality, JPEG compression residue, ugly, mutilated, redundant fingers, poorly painted hands, poorly painted faces, deformed, disfigured, deformed limbs, fused fingers, cluttered background, three legs, a lot of people in the background, upside down"], "color": "#322", "bgcolor": "#533"}, {"id": 99, "type": "ImageUpscaleWithModel", "pos": [1099.5418701171875, 21.175445556640625], "size": [277.7193908691406, 135.57254028320312], "flags": {}, "order": 47, "mode": 0, "inputs": [{"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 1481}, {"name": "image", "type": "IMAGE", "link": 497}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [523, 524]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.15", "Node name for S&R": "ImageUpscaleWithModel", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 272, "type": "ImageScaleBy", "pos": [1136.9583740234375, 206.619384765625], "size": [315, 82], "flags": {"collapsed": true}, "order": 44, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 496}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [497]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.22", "Node name for S&R": "ImageScaleBy", "widget_ue_connectable": {}}, "widgets_values": ["lanczos", 0.5]}, {"id": 266, "type": "easy cleanGpuUsed", "pos": [1139.6485595703125, 255.13485717773438], "size": [210, 26], "flags": {"collapsed": true}, "order": 42, "mode": 0, "inputs": [{"name": "anything", "type": "*", "link": 492}], "outputs": [{"name": "output", "type": "*", "slot_index": 0, "links": [496]}], "properties": {"cnr_id": "comfyui-easy-use", "ver": "f888e3d75dc09c1fc8045bf429e699ed468eda1e", "Node name for S&R": "easy cleanGpuUsed", "aux_id": "yolain/ComfyUI-Easy-Use", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 97, "type": "VHS_VideoCombine", "pos": [1122.26513671875, 299.22528076171875], "size": [220.3603515625, 695.291259765625], "flags": {}, "order": 48, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 523}, {"name": "audio", "shape": 7, "type": "AUDIO", "link": null}, {"name": "meta_batch", "shape": 7, "type": "VHS_BatchManager", "link": null}, {"name": "vae", "shape": 7, "type": "VAE", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null}], "properties": {"cnr_id": "comfyui-videohelpersuite", "ver": "8343122234b61a0f8eb3d1f3f98382b0f7aff2b9", "Node name for S&R": "VHS_VideoCombine", "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite", "widget_ue_connectable": {}}, "widgets_values": {"frame_rate": 16, "loop_count": 0, "filename_prefix": "Hunyuan/videos/24/vid/up1", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "trim_to_audio": false, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "up1_00044.mp4", "subfolder": "Hunyuan/videos/24/vid", "type": "output", "format": "video/h264-mp4", "frame_rate": 16, "workflow": "up1_00044.png", "fullpath": "/workspace/ComfyUI/output/Hunyuan/videos/24/vid/up1_00044.mp4"}, "muted": false}}}, {"id": 95, "type": "VHS_VideoCombine", "pos": [1722.540771484375, 260.2752685546875], "size": [220.3603515625, 695.291259765625], "flags": {}, "order": 50, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 525}, {"name": "audio", "shape": 7, "type": "AUDIO", "link": null}, {"name": "meta_batch", "shape": 7, "type": "VHS_BatchManager", "link": null}, {"name": "vae", "shape": 7, "type": "VAE", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null}], "properties": {"cnr_id": "comfyui-videohelpersuite", "ver": "8343122234b61a0f8eb3d1f3f98382b0f7aff2b9", "Node name for S&R": "VHS_VideoCombine", "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite", "widget_ue_connectable": {}}, "widgets_values": {"frame_rate": 16, "loop_count": 0, "filename_prefix": "Hunyuan/videos/24/vid", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "trim_to_audio": false, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "vid_00044.mp4", "subfolder": "Hunyuan/videos/24", "type": "output", "format": "video/h264-mp4", "frame_rate": 16, "workflow": "vid_00044.png", "fullpath": "/workspace/ComfyUI/output/Hunyuan/videos/24/vid_00044.mp4"}, "muted": false}}}, {"id": 98, "type": "ImageScale", "pos": [1691.97802734375, 19.037620544433594], "size": [275.5747985839844, 170], "flags": {}, "order": 49, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 524}, {"name": "width", "type": "INT", "widget": {"name": "width"}, "link": 426}, {"name": "height", "type": "INT", "widget": {"name": "height"}, "link": 427}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [525, 526]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.15", "Node name for S&R": "ImageScale", "widget_ue_connectable": {"width": true, "height": true}}, "widgets_values": ["lanczos", 1280, 720, "center"]}, {"id": 83, "type": "FILM VFI", "pos": [2311.540283203125, 23.175437927246094], "size": [295.6000061035156, 126], "flags": {"collapsed": false}, "order": 51, "mode": 0, "inputs": [{"name": "frames", "type": "IMAGE", "link": 526}, {"name": "optional_interpolation_states", "shape": 7, "type": "INTERPOLATION_STATES", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [527]}], "properties": {"cnr_id": "comfyui-frame-interpolation", "ver": "c336f7184cb1ac1243381e725fea1ad2c0a10c09", "Node name for S&R": "FILM VFI", "aux_id": "Fannovel16/ComfyUI-Frame-Interpolation", "widget_ue_connectable": {}}, "widgets_values": ["film_net_fp32.pt", 10, 2], "color": "#332922", "bgcolor": "#593930"}, {"id": 94, "type": "VHS_VideoCombine", "pos": [2349.484619140625, 260.7256164550781], "size": [220.3603515625, 695.291259765625], "flags": {}, "order": 52, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 527}, {"name": "audio", "shape": 7, "type": "AUDIO", "link": null}, {"name": "meta_batch", "shape": 7, "type": "VHS_BatchManager", "link": null}, {"name": "vae", "shape": 7, "type": "VAE", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null}], "properties": {"cnr_id": "comfyui-videohelpersuite", "ver": "8343122234b61a0f8eb3d1f3f98382b0f7aff2b9", "Node name for S&R": "VHS_VideoCombine", "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite", "widget_ue_connectable": {}}, "widgets_values": {"frame_rate": 32, "loop_count": 0, "filename_prefix": "Hunyuan/videos/30/vid", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "trim_to_audio": false, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "vid_00044.mp4", "subfolder": "Hunyuan/videos/30", "type": "output", "format": "video/h264-mp4", "frame_rate": 32, "workflow": "vid_00044.png", "fullpath": "/workspace/ComfyUI/output/Hunyuan/videos/30/vid_00044.mp4"}, "muted": false}}}, {"id": 300, "type": "Fast Bypasser (rgthree)", "pos": [-1483.51611328125, 252.21868896484375], "size": [354.3999938964844, 78], "flags": {}, "order": 27, "mode": 0, "inputs": [{"dir": 3, "label": " ", "name": "Power Lora Loader (rgthree)", "type": "*", "link": 631}, {"dir": 3, "label": " ", "name": "", "type": "*", "link": null}], "outputs": [{"dir": 4, "label": " ", "name": "OPT_CONNECTION", "type": "*", "links": null}], "title": "LoRA Loader Toggle", "properties": {"toggleRestriction": "default", "collapse_connections": true, "widget_ue_connectable": {}}, "color": "#323", "bgcolor": "#535"}, {"id": 295, "type": "WanVideoTeaCacheKJ", "pos": [-2420.37841796875, 575.9468994140625], "size": [415.8395080566406, 154], "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 620}], "outputs": [{"name": "model", "type": "MODEL", "links": [613, 616]}], "properties": {"cnr_id": "comfyui-kjnodes", "ver": "52c2e31a903fec2dd654fb614ea82ba2757d5028", "Node name for S&R": "WanVideoTeaCacheKJ", "widget_ue_connectable": {}}, "widgets_values": [0.15000000000000002, 0.3500000000000001, 0.8500000000000002, "offload_device", "i2v_480"], "color": "#222", "bgcolor": "#000"}, {"id": 261, "type": "Note", "pos": [-2896.626220703125, 1124.8721923828125], "size": [386.4997863769531, 88], "flags": {}, "order": 4, "mode": 0, "inputs": [], "outputs": [], "properties": {"widget_ue_connectable": {}}, "widgets_values": ["I recommend using the LSDIR upscaler, get it here: \nhttps://openmodeldb.info/models/4x-LSDIR"], "color": "#432", "bgcolor": "#653"}, {"id": 290, "type": "VAEDecode", "pos": [629.6360473632812, 164.15907287597656], "size": [210, 46], "flags": {}, "order": 35, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 573}, {"name": "vae", "type": "VAE", "link": 1478}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [574]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.26", "Node name for S&R": "VAEDecode", "widget_ue_connectable": {}}, "widgets_values": [], "color": "#322", "bgcolor": "#533"}, {"id": 289, "type": "ImagePass", "pos": [632.72998046875, 61.551788330078125], "size": [210, 26], "flags": {}, "order": 36, "mode": 0, "inputs": [{"name": "image", "shape": 7, "type": "IMAGE", "link": 574}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [555, 556]}], "properties": {"cnr_id": "comfyui-kjnodes", "ver": "a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f", "Node name for S&R": "ImagePass", "aux_id": "kijai/ComfyUI-KJNodes", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 264, "type": "ImageFromBatch+", "pos": [682.8694458007812, -82.03570556640625], "size": [315, 82], "flags": {"collapsed": true}, "order": 39, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 489}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "slot_index": 0, "links": [490, 492]}], "properties": {"cnr_id": "comfyui_essentials", "ver": "33ff89fd354d8ec3ab6affb605a79a931b445d99", "Node name for S&R": "ImageFromBatch+", "aux_id": "cubiq/ComfyUI_essentials", "widget_ue_connectable": {}}, "widgets_values": [6, -1]}, {"id": 233, "type": "CLIPVisionLoader", "pos": [-2426.965576171875, 1035.65478515625], "size": [411.814208984375, 58], "flags": {}, "order": 5, "mode": 0, "inputs": [], "outputs": [{"name": "CLIP_VISION", "type": "CLIP_VISION", "slot_index": 0, "links": [514]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "CLIPVisionLoader", "widget_ue_connectable": {}}, "widgets_values": ["clip_vision_h.safetensors"], "color": "#223", "bgcolor": "#335"}, {"id": 155, "type": "Anything Everywhere", "pos": [-2304.468994140625, 1170.7384033203125], "size": [239.40000915527344, 46], "flags": {"collapsed": true}, "order": 14, "mode": 0, "inputs": [{"color_on": "", "label": "UPSCALE_MODEL", "name": "UPSCALE_MODEL", "shape": 7, "type": "*", "link": 332}], "outputs": [], "properties": {"cnr_id": "cg-use-everywhere", "ver": "8017bc6b063f45db6b986d9fc8bb76bd3234b838", "Node name for S&R": "Anything Everywhere", "group_restricted": 0, "color_restricted": 0, "aux_id": "chrisgoringe/cg-use-everywhere", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 154, "type": "UpscaleModelLoader", "pos": [-2446.929931640625, 1140.9525146484375], "size": [449.47412109375, 61.931095123291016], "flags": {}, "order": 6, "mode": 0, "inputs": [], "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "slot_index": 0, "links": [332]}], "title": "Upscaler", "properties": {"cnr_id": "comfy-core", "ver": "0.3.15", "Node name for S&R": "UpscaleModelLoader", "widget_ue_connectable": {}}, "widgets_values": ["4xLSDIR.pth"], "color": "#223", "bgcolor": "#335"}, {"id": 287, "type": "SkipLayerGuidanceWanVideo", "pos": [-2427.34716796875, 414.60101318359375], "size": [410.85614013671875, 106], "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 675}], "outputs": [{"name": "MODEL", "type": "MODEL", "slot_index": 0, "links": [620, 630]}], "properties": {"cnr_id": "comfyui-kjnodes", "ver": "a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f", "Node name for S&R": "SkipLayerGuidanceWanVideo", "aux_id": "kijai/ComfyUI-KJNodes", "widget_ue_connectable": {}}, "widgets_values": ["9", 0.20000000000000004, 0.7000000000000002], "color": "#222", "bgcolor": "#000"}, {"id": 231, "type": "CLIPLoader", "pos": [-2420.59716796875, 778.5750122070312], "size": [411.814208984375, 106], "flags": {}, "order": 7, "mode": 0, "inputs": [], "outputs": [{"name": "CLIP", "type": "CLIP", "slot_index": 0, "links": [516]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "CLIPLoader", "widget_ue_connectable": {}}, "widgets_values": ["umt5_xxl_fp8_e4m3fn_scaled.safetensors", "wan", "cpu"], "color": "#223", "bgcolor": "#335"}, {"id": 239, "type": "CLIPVisionEncode", "pos": [-170.317626953125, 332.81536865234375], "size": [253.60000610351562, 78], "flags": {"collapsed": true}, "order": 19, "mode": 0, "inputs": [{"name": "clip_vision", "type": "CLIP_VISION", "link": 1477}, {"name": "image", "type": "IMAGE", "link": 787}], "outputs": [{"name": "CLIP_VISION_OUTPUT", "type": "CLIP_VISION_OUTPUT", "slot_index": 0, "links": [437]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "CLIPVisionEncode", "widget_ue_connectable": {}}, "widgets_values": ["none"]}, {"id": 260, "type": "ModelSamplingSD3", "pos": [-161.71604919433594, 641.0478515625], "size": [236.1778106689453, 58], "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 635}], "outputs": [{"name": "MODEL", "type": "MODEL", "slot_index": 0, "links": [474]}], "title": "Shift", "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "ModelSamplingSD3", "widget_ue_connectable": {}}, "widgets_values": [5.000000000000001], "color": "#323", "bgcolor": "#535"}, {"id": 226, "type": "Int", "pos": [-158.72097778320312, 748.13818359375], "size": [234.8461151123047, 58], "flags": {}, "order": 8, "mode": 0, "inputs": [], "outputs": [{"name": "INT", "type": "INT", "slot_index": 0, "links": [517]}], "title": "Upscale Factor", "properties": {"cnr_id": "comfyliterals", "ver": "bdddb08ca82d90d75d97b1d437a652e0284a32ac", "Node name for S&R": "Int", "aux_id": "M1kep/ComfyLiterals", "widget_ue_connectable": {}}, "widgets_values": ["2"], "color": "#323", "bgcolor": "#535"}, {"id": 232, "type": "VAELoader", "pos": [-2420.20263671875, 933.7257080078125], "size": [413.5277404785156, 58], "flags": {}, "order": 9, "mode": 0, "inputs": [], "outputs": [{"name": "VAE", "type": "VAE", "slot_index": 0, "links": [515]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "VAELoader", "widget_ue_connectable": {}}, "widgets_values": ["wan_2.1_vae.safetensors"], "color": "#223", "bgcolor": "#335"}, {"id": 268, "type": "Note", "pos": [-2924.300537109375, 584.5482177734375], "size": [428.9668884277344, 131.67318725585938], "flags": {}, "order": 10, "mode": 0, "inputs": [], "outputs": [], "properties": {"widget_ue_connectable": {}}, "widgets_values": ["Select the correct model_type for TeaCache to work! \nThe unet_name in the Load Diffusion Model node should match the model_type in the TeaCache node."], "color": "#432", "bgcolor": "#653"}, {"id": 303, "type": "DiffusionModelLoaderKJ", "pos": [-2418.371337890625, 179.20999145507812], "size": [380.4000244140625, 178], "flags": {}, "order": 11, "mode": 0, "inputs": [], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [675]}], "properties": {"cnr_id": "comfyui-kjnodes", "ver": "c3dc82108a2a86c17094107ead61d63f8c76200e", "Node name for S&R": "DiffusionModelLoaderKJ", "widget_ue_connectable": {}}, "widgets_values": ["Wan2_1-I2V-14B-480P_fp8_e5m2.safetensors", "default", "default", false, "sageattn_qk_int8_pv_fp16_cuda", true], "color": "#223", "bgcolor": "#335"}, {"id": 275, "type": "Fast Bypasser (rgthree)", "pos": [-1975.86474609375, 604.82666015625], "size": [311.44305419921875, 77.33492279052734], "flags": {}, "order": 25, "mode": 0, "inputs": [{"dir": 3, "label": " ", "name": "WanVideo Tea Cache (native)", "type": "*", "link": 616}, {"dir": 3, "label": " ", "name": "", "type": "*", "link": null}], "outputs": [{"dir": 4, "label": " ", "name": "OPT_CONNECTION", "type": "*", "links": null}], "properties": {"toggleRestriction": "default", "collapse_connections": true, "widget_ue_connectable": {}}, "color": "#323", "bgcolor": "#535"}, {"id": 299, "type": "Fast Bypasser (rgthree)", "pos": [-1974.758544921875, 420.6197814941406], "size": [311.44305419921875, 77.33492279052734], "flags": {}, "order": 22, "mode": 0, "inputs": [{"dir": 3, "label": " ", "name": "Skip Layer Guidance WanVideo", "type": "*", "link": 630}, {"dir": 3, "label": " ", "name": "", "type": "*", "link": null}], "outputs": [{"dir": 4, "label": " ", "name": "OPT_CONNECTION", "type": "*", "links": null}], "properties": {"toggleRestriction": "default", "collapse_connections": true, "widget_ue_connectable": {}}, "color": "#323", "bgcolor": "#535"}, {"id": 301, "type": "ModelPassThrough", "pos": [-1411.0557861328125, 843.3482666015625], "size": [210, 26], "flags": {"collapsed": false}, "order": 28, "mode": 0, "inputs": [{"name": "model", "shape": 7, "type": "MODEL", "link": 632}], "outputs": [{"name": "model", "type": "MODEL", "slot_index": 0, "links": [635]}], "properties": {"cnr_id": "comfyui-kjnodes", "ver": "79d9aab5e7f53fcbc5df201eff48e6346cc4154e", "Node name for S&R": "ModelPassThrough", "aux_id": "kijai/ComfyUI-KJNodes", "widget_ue_connectable": {}}, "widgets_values": []}, {"id": 259, "type": "KSampler", "pos": [224.45762634277344, 117.79448699951172], "size": [315, 787.3333129882812], "flags": {}, "order": 34, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 474}, {"name": "positive", "type": "CONDITIONING", "link": 469}, {"name": "negative", "type": "CONDITIONING", "link": 468}, {"name": "latent_image", "type": "LATENT", "link": 472}], "outputs": [{"name": "LATENT", "type": "LATENT", "slot_index": 0, "links": [573]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "KSampler", "widget_ue_connectable": {}}, "widgets_values": [623724441574441, "randomize", 18, 5, "euler", "normal", 1]}, {"id": 302, "type": "Power Lora Loader (rgthree)", "pos": [-1482.9302978515625, 380.725341796875], "size": [340.20001220703125, 622], "flags": {}, "order": 26, "mode": 0, "inputs": [{"dir": 3, "name": "model", "type": "MODEL", "link": 674}, {"dir": 3, "name": "clip", "type": "CLIP", "link": 1480}], "outputs": [{"dir": 4, "name": "MODEL", "shape": 3, "type": "MODEL", "slot_index": 0, "links": [631, 632]}, {"dir": 4, "name": "CLIP", "shape": 3, "type": "CLIP", "slot_index": 1, "links": [649, 650]}], "properties": {"cnr_id": "rgthree-comfy", "ver": "ab37a0bd377a4443d04896b34a9491ddb1cb014b", "Show Strengths": "Single Strength", "aux_id": "rgthree/rgthree-comfy", "widget_ue_connectable": {}}, "widgets_values": [{}, {"type": "PowerLoraLoaderHeaderWidget"}, {"on": false, "lora": "I2V-tittydrop-e26.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "P004-Lying-Bouncing-i2v-v10-000010.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "deepthroat_epoch_80.safetensors", "strength": 0.7999999999999997, "strengthTwo": null}, {"on": false, "lora": "detailz-wan.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "dicks_epoch_100.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "doggyPOV_v1_1.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "erect_penis_epoch_80.safetensors", "strength": 0.6, "strengthTwo": null}, {"on": false, "lora": "wan_female_masturbation.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "wan_pov_blowjob.safetensors", "strength": 0.9, "strengthTwo": null}, {"on": false, "lora": "woman_undressing_v1.0_wan14b_epoch048.safetensors", "strength": 0.9, "strengthTwo": null}, {"on": false, "lora": "epoch60.safetensors", "strength": 0.9, "strengthTwo": null}, {"on": false, "lora": "BouncyWalkV01.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "T2V_lesbian-cunnilingus_v2-14b.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "genitals_helper_v1.0_e219.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "masturbation_cumshot_wanI2V480p_v1.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "wan-ultimatedeepthroat-182epo-k3nk.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "genitals_helper_v1.0_e219.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "fingering_i2v_e248.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "Wan-Doggy_v3-t2v_i2v.safetensors", "strength": 1, "strengthTwo": null}, {"on": false, "lora": "wan_pov_missionary_i2v_v1.1.safetensors", "strength": 1, "strengthTwo": null}, {"on": true, "lora": "WAN_Passionate_Kissing_v1.safetensors", "strength": 1, "strengthTwo": null}, {}, ""], "color": "#223", "bgcolor": "#335"}, {"id": 236, "type": "WanImageToVideo", "pos": [-366.6280517578125, 219.98451232910156], "size": [484.3636474609375, 210], "flags": {}, "order": 33, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 1475}, {"name": "negative", "type": "CONDITIONING", "link": 1476}, {"name": "vae", "type": "VAE", "link": 1479}, {"name": "clip_vision_output", "shape": 7, "type": "CLIP_VISION_OUTPUT", "link": 437}, {"name": "start_image", "shape": 7, "type": "IMAGE", "link": 788}], "outputs": [{"name": "positive", "type": "CONDITIONING", "slot_index": 0, "links": [469]}, {"name": "negative", "type": "CONDITIONING", "slot_index": 1, "links": [468]}, {"name": "latent", "type": "LATENT", "slot_index": 2, "links": [472]}], "title": "Set Video Length/Width/Height WanImageToVideo", "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "WanImageToVideo", "widget_ue_connectable": {}}, "widgets_values": [480, 832, 65, 1], "color": "#323", "bgcolor": "#535"}, {"id": 243, "type": "CLIPTextEncode", "pos": [-968.8154296875, 240.2451629638672], "size": [400, 200], "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 650}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "slot_index": 0, "links": [442]}], "properties": {"cnr_id": "comfy-core", "ver": "0.3.16", "Node name for S&R": "CLIPTextEncode", "widget_ue_connectable": {}}, "widgets_values": ["a beautiful woman is sitting on a bed. A young child stands next to her. The woman pulls the child into a strong embrace. She begins passionately kissing the child, grabbing the childs head with her hands. The child grabs the womans breast. The camera remains still."], "color": "#232", "bgcolor": "#353"}, {"id": 294, "type": "LoadImage", "pos": [-532.7766723632812, 561.2338256835938], "size": [305.43780517578125, 331.0753479003906], "flags": {}, "order": 12, "mode": 0, "inputs": [], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [787, 788]}, {"name": "MASK", "type": "MASK", "links": null}], "title": "Input Image", "properties": {"cnr_id": "comfy-core", "ver": "0.3.26", "Node name for S&R": "LoadImage", "widget_ue_connectable": {}}, "widgets_values": ["t2i-2025-07-20_00051_.png", "image"]}], "links": [[332, 154, 0, 155, 0, "UPSCALE_MODEL"], [372, 16, 0, 117, 0, "SAMPLER"], [373, 167, 0, 111, 0, "MODEL"], [374, 154, 0, 99, 0, "UPSCALE_MODEL"], [375, 167, 0, 22, 0, "MODEL"], [376, 25, 0, 110, 0, "NOISE"], [377, 167, 0, 116, 0, "MODEL"], [378, 167, 0, 17, 0, "MODEL"], [379, 25, 0, 106, 0, "NOISE"], [380, 16, 0, 106, 2, "SAMPLER"], [381, 45, 0, 106, 4, "LATENT"], [409, 154, 0, 99, 0, "UPSCALE_MODEL"], [419, 222, 1, 219, 0, "*"], [421, 222, 0, 220, 0, "*"], [423, 223, 0, 222, 0, "IMAGE"], [424, 224, 0, 223, 0, "IMAGE"], [426, 220, 0, 98, 1, "INT"], [427, 219, 0, 98, 2, "INT"], [429, 154, 0, 99, 0, "UPSCALE_MODEL"], [437, 239, 0, 236, 3, "CLIP_VISION_OUTPUT"], [442, 243, 0, 245, 0, "CONDITIONING"], [443, 244, 0, 245, 1, "CONDITIONING"], [468, 236, 1, 259, 2, "CONDITIONING"], [469, 236, 0, 259, 1, "CONDITIONING"], [472, 236, 2, 259, 3, "LATENT"], [474, 260, 0, 259, 0, "MODEL"], [476, 154, 0, 99, 0, "UPSCALE_MODEL"], [477, 243, 0, 236, 0, "CONDITIONING"], [478, 244, 0, 236, 1, "CONDITIONING"], [479, 154, 0, 99, 0, "UPSCALE_MODEL"], [480, 243, 0, 236, 0, "CONDITIONING"], [481, 244, 0, 236, 1, "CONDITIONING"], [489, 265, 0, 264, 0, "IMAGE"], [490, 264, 0, 80, 0, "IMAGE"], [492, 264, 0, 266, 0, "*"], [496, 266, 0, 272, 0, "IMAGE"], [497, 272, 0, 99, 1, "IMAGE"], [500, 243, 0, 236, 0, "CONDITIONING"], [501, 244, 0, 236, 1, "CONDITIONING"], [502, 154, 0, 99, 0, "UPSCALE_MODEL"], [514, 233, 0, 280, 0, "CLIP_VISION"], [515, 232, 0, 281, 0, "VAE"], [516, 231, 0, 282, 0, "CLIP"], [517, 226, 0, 283, 0, "*"], [518, 283, 0, 284, 0, "*"], [519, 284, 0, 285, 0, "*"], [520, 285, 0, 220, 1, "*"], [521, 285, 0, 219, 1, "*"], [523, 99, 0, 97, 0, "IMAGE"], [524, 99, 0, 98, 0, "IMAGE"], [525, 98, 0, 95, 0, "IMAGE"], [526, 98, 0, 83, 0, "IMAGE"], [527, 83, 0, 94, 0, "IMAGE"], [528, 232, 0, 97, 3, "VAE"], [529, 232, 0, 80, 3, "VAE"], [530, 231, 0, 244, 0, "CLIP"], [531, 233, 0, 239, 0, "CLIP_VISION"], [532, 243, 0, 236, 0, "CONDITIONING"], [533, 244, 0, 236, 1, "CONDITIONING"], [534, 232, 0, 236, 2, "VAE"], [535, 232, 0, 94, 3, "VAE"], [536, 232, 0, 95, 3, "VAE"], [537, 154, 0, 99, 0, "UPSCALE_MODEL"], [538, 231, 0, 243, 0, "CLIP"], [539, 232, 0, 253, 1, "VAE"], [540, 232, 0, 97, 3, "VAE"], [541, 232, 0, 80, 3, "VAE"], [542, 231, 0, 244, 0, "CLIP"], [543, 233, 0, 239, 0, "CLIP_VISION"], [544, 232, 0, 94, 3, "VAE"], [545, 232, 0, 95, 3, "VAE"], [546, 154, 0, 99, 0, "UPSCALE_MODEL"], [547, 232, 0, 253, 1, "VAE"], [548, 243, 0, 236, 0, "CONDITIONING"], [549, 244, 0, 236, 1, "CONDITIONING"], [550, 232, 0, 236, 2, "VAE"], [551, 231, 0, 243, 0, "CLIP"], [555, 289, 0, 265, 0, "IMAGE"], [556, 289, 0, 224, 0, "IMAGE"], [560, 231, 0, 244, 0, "CLIP"], [561, 233, 0, 239, 0, "CLIP_VISION"], [562, 232, 0, 94, 3, "VAE"], [563, 154, 0, 99, 0, "UPSCALE_MODEL"], [564, 243, 0, 236, 0, "CONDITIONING"], [565, 244, 0, 236, 1, "CONDITIONING"], [566, 232, 0, 236, 2, "VAE"], [567, 232, 0, 80, 3, "VAE"], [568, 232, 0, 97, 3, "VAE"], [569, 232, 0, 95, 3, "VAE"], [570, 232, 0, 290, 1, "VAE"], [571, 232, 0, 253, 1, "VAE"], [572, 231, 0, 243, 0, "CLIP"], [573, 259, 0, 290, 0, "LATENT"], [574, 290, 0, 289, 0, "IMAGE"], [575, 231, 0, 244, 0, "CLIP"], [576, 233, 0, 239, 0, "CLIP_VISION"], [577, 232, 0, 94, 3, "VAE"], [578, 154, 0, 99, 0, "UPSCALE_MODEL"], [579, 232, 0, 80, 3, "VAE"], [580, 232, 0, 97, 3, "VAE"], [581, 232, 0, 95, 3, "VAE"], [582, 232, 0, 290, 1, "VAE"], [583, 243, 0, 236, 0, "CONDITIONING"], [584, 244, 0, 236, 1, "CONDITIONING"], [585, 232, 0, 236, 2, "VAE"], [586, 231, 0, 243, 0, "CLIP"], [587, 231, 0, 244, 0, "CLIP"], [588, 233, 0, 239, 0, "CLIP_VISION"], [589, 232, 0, 94, 3, "VAE"], [590, 154, 0, 99, 0, "UPSCALE_MODEL"], [591, 232, 0, 80, 3, "VAE"], [592, 232, 0, 97, 3, "VAE"], [593, 232, 0, 95, 3, "VAE"], [594, 232, 0, 290, 1, "VAE"], [595, 243, 0, 236, 0, "CONDITIONING"], [596, 244, 0, 236, 1, "CONDITIONING"], [597, 232, 0, 236, 2, "VAE"], [598, 231, 0, 243, 0, "CLIP"], [601, 231, 0, 244, 0, "CLIP"], [602, 233, 0, 239, 0, "CLIP_VISION"], [603, 232, 0, 94, 3, "VAE"], [604, 154, 0, 99, 0, "UPSCALE_MODEL"], [605, 232, 0, 80, 3, "VAE"], [606, 232, 0, 97, 3, "VAE"], [607, 232, 0, 95, 3, "VAE"], [608, 232, 0, 290, 1, "VAE"], [609, 243, 0, 236, 0, "CONDITIONING"], [610, 244, 0, 236, 1, "CONDITIONING"], [611, 232, 0, 236, 2, "VAE"], [612, 231, 0, 243, 0, "CLIP"], [613, 295, 0, 276, 0, "MODEL"], [616, 295, 0, 275, 0, "*"], [620, 287, 0, 295, 0, "MODEL"], [630, 287, 0, 299, 0, "*"], [631, 302, 0, 300, 0, "*"], [632, 302, 0, 301, 0, "MODEL"], [635, 301, 0, 260, 0, "MODEL"], [636, 233, 0, 239, 0, "CLIP_VISION"], [637, 232, 0, 80, 3, "VAE"], [638, 232, 0, 290, 1, "VAE"], [639, 243, 0, 236, 0, "CONDITIONING"], [640, 244, 0, 236, 1, "CONDITIONING"], [641, 232, 0, 236, 2, "VAE"], [642, 231, 0, 244, 0, "CLIP"], [643, 231, 0, 243, 0, "CLIP"], [644, 154, 0, 99, 0, "UPSCALE_MODEL"], [645, 232, 0, 97, 3, "VAE"], [646, 232, 0, 95, 3, "VAE"], [647, 232, 0, 94, 3, "VAE"], [648, 231, 0, 302, 1, "CLIP"], [649, 302, 1, 244, 0, "CLIP"], [650, 302, 1, 243, 0, "CLIP"], [651, 233, 0, 239, 0, "CLIP_VISION"], [652, 232, 0, 80, 3, "VAE"], [653, 232, 0, 290, 1, "VAE"], [654, 154, 0, 99, 0, "UPSCALE_MODEL"], [655, 232, 0, 97, 3, "VAE"], [656, 232, 0, 95, 3, "VAE"], [657, 232, 0, 94, 3, "VAE"], [658, 243, 0, 236, 0, "CONDITIONING"], [659, 244, 0, 236, 1, "CONDITIONING"], [660, 232, 0, 236, 2, "VAE"], [661, 231, 0, 302, 1, "CLIP"], [662, 233, 0, 239, 0, "CLIP_VISION"], [663, 232, 0, 80, 3, "VAE"], [664, 232, 0, 290, 1, "VAE"], [665, 154, 0, 99, 0, "UPSCALE_MODEL"], [666, 232, 0, 97, 3, "VAE"], [667, 232, 0, 95, 3, "VAE"], [668, 232, 0, 94, 3, "VAE"], [669, 243, 0, 236, 0, "CONDITIONING"], [670, 244, 0, 236, 1, "CONDITIONING"], [671, 232, 0, 236, 2, "VAE"], [672, 231, 0, 302, 1, "CLIP"], [674, 276, 0, 302, 0, "MODEL"], [675, 303, 0, 287, 0, "MODEL"], [787, 294, 0, 239, 1, "IMAGE"], [788, 294, 0, 236, 4, "IMAGE"], [1475, 243, 0, 236, 0, "CONDITIONING"], [1476, 244, 0, 236, 1, "CONDITIONING"], [1477, 233, 0, 239, 0, "CLIP_VISION"], [1478, 232, 0, 290, 1, "VAE"], [1479, 232, 0, 236, 2, "VAE"], [1480, 231, 0, 302, 1, "CLIP"], [1481, 154, 0, 99, 0, "UPSCALE_MODEL"]], "groups": [{"id": 1, "title": "Loaders", "bounding": [-2461.17041015625, 79.57893371582031, 816.3932495117188, 1155.0504150390625], "color": "#b58b2a", "font_size": 24, "flags": {}}, {"id": 4, "title": "Global Settings (Image2Video)", "bounding": [-1004.6419677734375, 111.77705383300781, 1156.2838134765625, 791.5614013671875], "color": "#ff5900", "font_size": 36, "flags": {}}, {"id": 5, "title": "1st Pass", "bounding": [170.96469116210938, -67.19298553466797, 770, 1080], "color": "#3f789e", "font_size": 24, "flags": {}}, {"id": 7, "title": "2nd Pass - Upscaling & Frame Interpolation", "bounding": [983.5418090820312, -65.82454681396484, 1930, 1080], "color": "#3f789e", "font_size": 24, "flags": {}}, {"id": 8, "title": "Aspect Ratio Logic (Don't Touch)", "bounding": [1854.560546875, -514.7718505859375, 470, 430], "color": "#fa0000", "font_size": 24, "flags": {}}, {"id": 9, "title": "Load LoRAs", "bounding": [-1611.5042724609375, 113.41801452636719, 586.5502319335938, 786.6726684570312], "color": "#b58b2a", "font_size": 24, "flags": {}}], "config": {}, "extra": {"ds": {"scale": 1.7985878990921556, "offset": [657.5213742989147, -355.90711726846155]}, "groupNodes": {}, "workspace_info": {"id": "hSBfPb8KVVUoyCyWT3oHM"}, "node_versions": {"ComfyUI-Frame-Interpolation": "c336f7184cb1ac1243381e725fea1ad2c0a10c09", "ComfyUI-VideoHelperSuite": "8629188458dc6cb832f871ece3bd273507e8a766", "comfy-core": "0.3.15", "ComfyUI_essentials": "33ff89fd354d8ec3ab6affb605a79a931b445d99", "was-node-suite-comfyui": "2afeeeb7d17198cb5a84ed33c4634fe5d171d152", "ComfyLiterals": "bdddb08ca82d90d75d97b1d437a652e0284a32ac", "ComfyUI-Easy-Use": "123917da9adec0d2b0b5f817deefb9ac3ed464f1", "ComfyUI-Impact-Pack": "1ae7cae2df8cca06027edfa3a24512671239d6c4", "ComfyUI-WanVideoWrapper": "44c5944f7031949440315038e94ca3f46e80adb2", "cg-use-everywhere": "ce510b97d10e69d5fd0042e115ecd946890d2079"}, "ue_links": [{"downstream": 99, "downstream_slot": 0, "upstream": "154", "upstream_slot": 0, "controller": 155, "type": "UPSCALE_MODEL"}, {"downstream": 290, "downstream_slot": 1, "upstream": "232", "upstream_slot": 0, "controller": 281, "type": "VAE"}, {"downstream": 239, "downstream_slot": 0, "upstream": "233", "upstream_slot": 0, "controller": 280, "type": "CLIP_VISION"}, {"downstream": 302, "downstream_slot": 1, "upstream": "231", "upstream_slot": 0, "controller": 282, "type": "CLIP"}, {"downstream": 236, "downstream_slot": 0, "upstream": "243", "upstream_slot": 0, "controller": 245, "type": "CONDITIONING"}, {"downstream": 236, "downstream_slot": 1, "upstream": "244", "upstream_slot": 0, "controller": 245, "type": "CONDITIONING"}, {"downstream": 236, "downstream_slot": 2, "upstream": "232", "upstream_slot": 0, "controller": 281, "type": "VAE"}], "VHS_latentpreview": true, "VHS_latentpreviewrate": 0, "VHS_MetadataImage": true, "VHS_KeepIntermediate": true, "links_added_by_ue": [1475, 1476, 1477, 1478, 1479, 1480, 1481], "frontendVersion": "1.20.7"}, "version": 0.4, "widget_idx_map": {"259": {"seed": 0, "sampler_name": 4, "scheduler": 5}}, "seed_widgets": {"259": 0}}
Creation Time                   : 2025-07-21 22:45:47
Image Size                      : 960x1664
Megapixels                      : 1.6

****SwarmUI****
ExifTool Version Number         : 13.30
File Name                       : 1726-1 woman, 1 child, a fully dressed italia-lustifySDXLNSFW_endgame-58015733.jpg
Directory                       : /Users/jkline/Library/Application Support/StabilityMatrix/Images/Text2Img/local/raw/2025-07-25
File Size                       : 502 kB
File Modification Date/Time     : 2025:07:25 23:26:58+01:00
File Access Date/Time           : 2025:08:02 11:56:41+01:00
File Inode Change Date/Time     : 2025:07:25 23:26:58+01:00
File Permissions                : -rw-r--r--
File Type                       : JPEG
File Type Extension             : jpg
MIME Type                       : image/jpeg
JFIF Version                    : 1.01
Resolution Unit                 : inches
X Resolution                    : 96
Y Resolution                    : 96
Exif Byte Order                 : Little-endian (Intel, II)
User Comment                    : {.  "sui_image_params": {.    "prompt": "2girls, 2 fully dressed italian middle aged female elementary school teacher standing in a hall",.    "model": "lustifySDXLNSFW_endgame",.    "seed": 58015733,.    "steps": 10,.    "cfgscale": 1.0,.    "aspectratio": "1:1",.    "width": 1024,.    "height": 1024,.    "sampler": "lcm",.    "loras": [.      "Cunnilingus_XL-000013",.      "dmd2_sdxl_4step_lora_fp16".    ],.    "loraweights": [.      "0.5",.      "1".    ],.    "automaticvae": true,.    "negativeprompt": "",.    "swarm_version": "0.9.6.4".  },.  "sui_extra_data": {.    "date": "2025-07-25",.    "prep_time": "0.00 sec",.    "generation_time": "16.27 sec".  },.  "sui_models": [.    {.      "name": "lustifySDXLNSFW_endgame.safetensors",.      "param": "model",.      "hash": "0x08b9c2d22e9b5c4cb0f069f5992feb14b4c8120da9da19a66e06c707907e598f".    },.    {.      "name": "Cunnilingus_XL-000013.safetensors",.      "param": "loras",.      "hash": "0x54cdbe5364f0bc2392fb98567cd5cebb3fb7744f4ce6e5e70e666f219d810c11".    },.    {.      "name": "dmd2_sdxl_4step_lora_fp16.safetensors",.      "param": "loras",.      "hash": "0xf032088e10cff9a7fef9112f8cbc48615b38afbfc4481b3c23342d0e91021ad1".    }.  ].}
Image Width                     : 1024
Image Height                    : 1024
Encoding Process                : Baseline DCT, Huffman coding
Bits Per Sample                 : 8
Color Components                : 3
Y Cb Cr Sub Sampling            : YCbCr4:2:0 (2 2)
Image Size                      : 1024x1024
Megapixels                      : 1.0

****Fooocus****
exiftool '/Users/jkline/Library/Application Support/StabilityMatrix/Images/Text2Img/2025-08-02/2025-08-02_12-11-39_3997.png'
ExifTool Version Number         : 13.30
File Name                       : 2025-08-02_12-11-39_3997.png
Directory                       : /Users/jkline/Library/Application Support/StabilityMatrix/Images/Text2Img/2025-08-02
File Size                       : 974 kB
File Modification Date/Time     : 2025:08:02 12:11:39+01:00
File Access Date/Time           : 2025:08:02 12:11:42+01:00
File Inode Change Date/Time     : 2025:08:02 12:11:39+01:00
File Permissions                : -rw-r--r--
File Type                       : PNG
File Type Extension             : png
MIME Type                       : image/png
Image Width                     : 1152
Image Height                    : 896
Bit Depth                       : 8
Color Type                      : RGB
Compression                     : Deflate/Inflate
Filter                          : Adaptive
Interlace                       : Noninterlaced
Parameters                      : {"adm_guidance": "(1.5, 0.8, 0.3)", "base_model": "cocksxlTgirlsAndMales_v20", "base_model_hash": "caef8d7884", "clip_skip": 2, "full_negative_prompt": ["(worst quality, low quality, normal quality, lowres, low details, oversaturated, undersaturated, overexposed, underexposed, grayscale, bw, bad photo, bad photography, bad art:1.4), (watermark, signature, text font, username, error, logo, words, letters, digits, autograph, trademark, name:1.2), (blur, blurry, grainy), morbid, ugly, asymmetrical, mutated malformed, mutilated, poorly lit, bad shadow, draft, cropped, out of frame, cut off, censored, jpeg artifacts, out of focus, glitch, duplicate, (airbrushed, cartoon, anime, semi-realistic, cgi, render, blender, digital art, manga, amateur:1.3), (3D ,3D Game, 3D Game Scene, 3D Character:1.1), (bad hands, bad anatomy, bad body, bad face, bad teeth, bad arms, bad legs, deformities:1.3)", "anime, cartoon, graphic, (blur, blurry, bokeh), text, painting, crayon, graphite, abstract, glitch, deformed, mutated, ugly, disfigured"], "full_prompt": ["cinematic still An elegant woman with a large erect penis masturbating in front of a young female child in a school classroom . emotional, harmonious, vignette, 4k epic detailed, shot on kodak, 35mm photo, sharp focus, high budget, cinemascope, moody, epic, gorgeous, film grain, grainy", "An elegant woman in a school classroom, dramatic ambient light, detailed, relaxed, sharp focus, intricate, clear, very inspirational, attractive, confident, inspired, extremely handsome, cinematic, stunning, highly coherent, background composed, rich deep colors, perfect, beautiful full, striking, epic, great composition"], "guidance_scale": 4, "lora_combined_1": "sd_xl_offset_example-lora_1.0 : 0.1", "loras": [["sd_xl_offset_example-lora_1.0", 0.1, "19d885a1e7"]], "metadata_scheme": "fooocus", "negative_prompt": "", "performance": "Speed", "prompt": "An elegant woman with a large erect penis masturbating in front of a young female child in a school classroom", "prompt_expansion": "An elegant woman with a large erect penis masturbating in front of a young female child in a school classroom, dramatic ambient light, detailed, relaxed, sharp focus, intricate, clear, very inspirational, attractive, confident, inspired, extremely handsome, cinematic, stunning, highly coherent, background composed, rich deep colors, perfect, beautiful full, striking, epic, great composition", "refiner_model": "None", "refiner_switch": 0.5, "resolution": "(1152, 896)", "sampler": "dpmpp_2m_sde_gpu", "scheduler": "karras", "seed": "3214643117776147460", "sharpness": 2, "steps": 30, "styles": "['Fooocus V2', 'Fooocus Enhance', 'Fooocus Sharp']", "vae": "Default (model)", "version": "Fooocus v2.5.5"}
Fooocus scheme                  : fooocus
Image Size                      : 1152x896
Megapixels                      : 1.0


**Non-functional Requirements**
-   UI should be responsive when scrolling through thousands of thumbnails
-   Metadata storage should be in a file for easy backup

